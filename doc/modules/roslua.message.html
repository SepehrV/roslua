<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../luadoc.css" type="text/css" />
	<!--meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/-->
</head>

<body>
<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->

<div id="main">

<div id="navigation">


<h1>LuaDoc</h1>
<ul>
	
	<li><a href="../index.html">Index</a></li>
	
</ul>


<!-- Module list -->

<h1>Modules</h1>
<ul>

	<li>
		<a href="../modules/roslua.html">roslua</a>
	</li>

	<li>
		<a href="../modules/roslua.logging.html">roslua.logging</a>
	</li>

	<li>
		<a href="../modules/roslua.logging.rosout.html">roslua.logging.rosout</a>
	</li>

	<li>
		<a href="../modules/roslua.logging.stdout.html">roslua.logging.stdout</a>
	</li>

	<li>
		<a href="../modules/roslua.master_proxy.html">roslua.master_proxy</a>
	</li>

	<li><strong>roslua.message</strong></li>
	
	<li>
		<a href="../modules/roslua.msg_spec.html">roslua.msg_spec</a>
	</li>

	<li>
		<a href="../modules/roslua.param_proxy.html">roslua.param_proxy</a>
	</li>

	<li>
		<a href="../modules/roslua.publisher.html">roslua.publisher</a>
	</li>

	<li>
		<a href="../modules/roslua.registry.html">roslua.registry</a>
	</li>

	<li>
		<a href="../modules/roslua.service.html">roslua.service</a>
	</li>

	<li>
		<a href="../modules/roslua.service_client.html">roslua.service_client</a>
	</li>

	<li>
		<a href="../modules/roslua.slave_api.html">roslua.slave_api</a>
	</li>

	<li>
		<a href="../modules/roslua.slave_proxy.html">roslua.slave_proxy</a>
	</li>

	<li>
		<a href="../modules/roslua.srv_spec.html">roslua.srv_spec</a>
	</li>

	<li>
		<a href="../modules/roslua.subscriber.html">roslua.subscriber</a>
	</li>

	<li>
		<a href="../modules/roslua.tcpros.html">roslua.tcpros</a>
	</li>

	<li>
		<a href="../modules/roslua.time.html">roslua.time</a>
	</li>

	<li>
		<a href="../modules/roslua.utils.html">roslua.utils</a>
	</li>

</ul>



<!-- File list -->






</div><!-- id="navigation" -->

<div id="content">

<h1>Module <code>roslua.message</code></h1>

<p>ROS message representation. This class incorporates a ROS message that can be sent and received over a TCPROS connection. A message is created via the MsgSpec:instantiate() method. <br /><br /> A message has two important fields. One is the spec field. It contains a reference a a MsgSpec instance describing this message. Further there is a field values which is a dict table. It contains entries for the names of the message fields storing the appropriate. The values array has to be filled appropriately before sending a message, and on deserializing a received message it will contain the received values.</p>


<p>Copyright&copy; Tim Niemueller, Carnegie Mellon University, Intel Research Pittsburgh</p>


<p><small><b>Release:</b> Released under BSD license</small></p>



<h2>Functions</h2>
<table class="function_list">

	<tr>
	<td class="name" nowrap><a href="#Message:deserialize">Message:deserialize</a>&nbsp;(buffer, i)</td>
	<td class="summary">Deserialize received message.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#Message:deserialize_value">Message:deserialize_value</a>&nbsp;(buffer, i, field, ftype, fname)</td>
	<td class="summary">Deserialize single value </td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#Message:generate_value_array">Message:generate_value_array</a>&nbsp;(flat_array)</td>
	<td class="summary">Generate a value array from the stored values.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#Message:new">Message:new</a>&nbsp;(spec)</td>
	<td class="summary">Constructor.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#Message:print">Message:print</a>&nbsp;(indent)</td>
	<td class="summary">Print message.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#Message:serialize">Message:serialize</a>&nbsp;()</td>
	<td class="summary">Serialize message.</td>
	</tr>

	<tr>
	<td class="name" nowrap><a href="#Message:set_from_array">Message:set_from_array</a>&nbsp;(arr)</td>
	<td class="summary">Set message values from array.</td>
	</tr>

</table>






<br/>
<br/>



<h2><a name="functions"></a>Functions</h2>
<dl class="function">



<dt><a name="Message:deserialize"></a><strong>Message:deserialize</strong>&nbsp;(buffer, i)</dt>
<dd>
Deserialize received message. This will deserialize the message according to the message specification. Not that it is the users obligation to make sure that the buffer is correctly typed for the message, especially that the buffer has the appropriate size.


<h3>Parameters</h3>
<ul>
	
	<li>
	  buffer: buffer that contains the message as read from the TCPROS connection
	</li>
	
	<li>
	  i: Index from where to start parsing in the buffer, optional argument that defaults to 1
	</li>
	
</ul>








</dd>




<dt><a name="Message:deserialize_value"></a><strong>Message:deserialize_value</strong>&nbsp;(buffer, i, field, ftype, fname)</dt>
<dd>
Deserialize single value


<h3>Parameters</h3>
<ul>
	
	<li>
	  buffer: 
	</li>
	
	<li>
	  i: 
	</li>
	
	<li>
	  field: 
	</li>
	
	<li>
	  ftype: 
	</li>
	
	<li>
	  fname: 
	</li>
	
</ul>








</dd>




<dt><a name="Message:generate_value_array"></a><strong>Message:generate_value_array</strong>&nbsp;(flat_array)</dt>
<dd>
Generate a value array from the stored values. This is used for serialization, but also during execution of service calls.


<h3>Parameters</h3>
<ul>
	
	<li>
	  flat_array: if set to true (the default) will generate a flat array, which means that the resulting value array from complex sub-messages are folded into the array at the place where the field is defined. If set to false the value arrays for the sub-messages are integrated verbatim as array at the appropriate position.
	</li>
	
</ul>






<h3>Return value:</h3>
positional array of values, output depends on flat_array param, see above.



</dd>




<dt><a name="Message:new"></a><strong>Message:new</strong>&nbsp;(spec)</dt>
<dd>
Constructor.


<h3>Parameters</h3>
<ul>
	
	<li>
	  spec: message specification
	</li>
	
</ul>








</dd>




<dt><a name="Message:print"></a><strong>Message:print</strong>&nbsp;(indent)</dt>
<dd>
Print message.


<h3>Parameters</h3>
<ul>
	
	<li>
	  indent: string (normally spaces) to put before every line of output
	</li>
	
</ul>








</dd>




<dt><a name="Message:serialize"></a><strong>Message:serialize</strong>&nbsp;()</dt>
<dd>
Serialize message.







<h3>Return value:</h3>
three values, the serialized string appropriate for sending over a TCPROS connection, the used struct format, and the array of values



</dd>




<dt><a name="Message:set_from_array"></a><strong>Message:set_from_array</strong>&nbsp;(arr)</dt>
<dd>
Set message values from array. Set the values field from the given array. Assumes a non-flat array layout where positions of complex sub-messages contain an appropriate array of values for the message (possibly recursively having arrays again).


<h3>Parameters</h3>
<ul>
	
	<li>
	  arr: array of values
	</li>
	
</ul>








</dd>


</dl>






</div> <!-- id="content" -->

</div> <!-- id="main" -->

<div id="about">
	<p><a href="http://validator.w3.org/check?uri=referer"><img src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a></p>
</div> <!-- id="about" -->

</div> <!-- id="container" -->	
</body>
</html>
